import _defineProperty from"@babel/runtime/helpers/defineProperty";import _extends from"@babel/runtime/helpers/extends";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";var _jsxFileName="F:\\Work\\Teleware\\packages\\react-native-youtube-player\\src\\mobile\\Controls.tsx";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useState,useRef,useEffect}from"react";import{View,StyleSheet,TouchableWithoutFeedback,Text,ActivityIndicator}from"react-native";import{PlayIcon,PauseIcon,FSIcon,ExitFSIcon}from"./icons";import ProgressBar from"./ProgressBar";import{sec2time}from"./Utils";var TIME_TO_HIDE_CONTROLS=2000;export default(function(_ref){var play=_ref.play,topBar=_ref.topBar,ready=_ref.ready,duration=_ref.duration,currentTime=_ref.currentTime,playVideo=_ref.playVideo,pauseVideo=_ref.pauseVideo,seekTo=_ref.seekTo,toggleFS=_ref.toggleFS,fullScreen=_ref.fullScreen,showFullScreenButton=_ref.showFullScreenButton;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var ref=useRef(0);var hideControls=function hideControls(){if(ref.current!==0)clearTimeout(ref.current);if(play&&ready){ref.current=setTimeout(function(){setVisible(false);},TIME_TO_HIDE_CONTROLS);}};var hideAfterExecute=function hideAfterExecute(action){hideControls();return action;};useEffect(function(){hideControls();return function(){clearTimeout(ref.current);};},[play,ready]);var progress=currentTime!==0&&duration!==0?currentTime/duration:0;return React.createElement(View,{style:[styles.container,{paddingHorizontal:fullScreen?40:0}],pointerEvents:"auto",__source:{fileName:_jsxFileName,lineNumber:72,columnNumber:5}},React.createElement(TouchableWithoutFeedback,{onPress:function onPress(){return hideAfterExecute(setVisible)(true);},style:styles.upperView,__source:{fileName:_jsxFileName,lineNumber:76,columnNumber:7}},React.createElement(View,{style:styles.upperView,__source:{fileName:_jsxFileName,lineNumber:80,columnNumber:9}})),visible&&React.createElement(TouchableWithoutFeedback,{onPress:function onPress(){return hideAfterExecute(function(){})();},__source:{fileName:_jsxFileName,lineNumber:84,columnNumber:9}},React.createElement(View,{style:[styles.controls,{paddingHorizontal:fullScreen?40:5,backgroundColor:ready?"rgba(0,0,0,0.6)":"#000"}],__source:{fileName:_jsxFileName,lineNumber:85,columnNumber:11}},topBar&&topBar({play:play,fullScreen:fullScreen}),!ready&&React.createElement(ActivityIndicator,{size:"small",color:"#FFF",__source:{fileName:_jsxFileName,lineNumber:95,columnNumber:24}}),ready&&play&&React.createElement(PauseIcon,{onPress:pauseVideo,__source:{fileName:_jsxFileName,lineNumber:96,columnNumber:31}}),ready&&!play&&React.createElement(PlayIcon,{onPress:playVideo,__source:{fileName:_jsxFileName,lineNumber:97,columnNumber:32}}),React.createElement(View,{style:[styles.footer,{bottom:fullScreen?30:10}],__source:{fileName:_jsxFileName,lineNumber:99,columnNumber:13}},React.createElement(Text,{style:styles.text,__source:{fileName:_jsxFileName,lineNumber:100,columnNumber:15}}," ",sec2time(currentTime)," "),React.createElement(View,{style:styles.footerRight,__source:{fileName:_jsxFileName,lineNumber:101,columnNumber:15}},React.createElement(Text,{style:styles.text,__source:{fileName:_jsxFileName,lineNumber:102,columnNumber:17}}," ",sec2time(duration)," "),showFullScreenButton&&React.createElement(React.Fragment,{__source:{fileName:_jsxFileName,lineNumber:104,columnNumber:19}},fullScreen?React.createElement(ExitFSIcon,{size:16,onPress:toggleFS,__source:{fileName:_jsxFileName,lineNumber:106,columnNumber:23}}):React.createElement(FSIcon,{size:16,onPress:toggleFS,__source:{fileName:_jsxFileName,lineNumber:108,columnNumber:23}})))))),React.createElement(ProgressBar,_extends({value:progress},{fullScreen:fullScreen,visible:visible,seekTo:seekTo,duration:duration,pauseVideo:pauseVideo,playVideo:playVideo},{__source:{fileName:_jsxFileName,lineNumber:117,columnNumber:7}})));});var styles=StyleSheet.create({container:_objectSpread(_objectSpread({},StyleSheet.absoluteFillObject),{},{elevation:999}),upperView:_objectSpread(_objectSpread({},StyleSheet.absoluteFillObject),{},{elevation:11}),controls:_objectSpread(_objectSpread({},StyleSheet.absoluteFillObject),{},{alignContent:"center",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.6)"}),footer:{width:"100%",flexDirection:"row",justifyContent:"space-between",alignItems:"center",position:"absolute"},text:{color:"#FFF",fontSize:12,marginRight:0},footerRight:{flexDirection:"row",alignItems:"center"},progress:{width:"100%",height:2,position:"absolute",bottom:0,backgroundColor:"red"}});
//# sourceMappingURL=Controls.js.map