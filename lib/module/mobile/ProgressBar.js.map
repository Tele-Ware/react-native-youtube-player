{"version":3,"sources":["ProgressBar.tsx"],"names":["React","useRef","StyleSheet","View","Animated","Easing","Slider","value","visible","seekTo","duration","pauseVideo","playVideo","fullScreen","styles","container","bottom","progress","zIndex","elevation","p","require","Progress","ref","Value","timing","current","toValue","easing","inOut","ease","start","outerBar","flex","backgroundColor","height","create","alignSelf","width","position","transform","translateY","alignItems","flexDirection"],"mappings":"2GAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,KAA8B,OAA9B,CACA,OAASC,UAAT,CAAqBC,IAArB,KAAiC,cAAjC,CACA,MAAOC,CAAAA,QAAP,EAAmBC,MAAnB,KAAiC,yBAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CAYA,eAAe,kBACbC,CAAAA,KADa,MACbA,KADa,CAEbC,OAFa,MAEbA,OAFa,CAGbC,MAHa,MAGbA,MAHa,CAIbC,QAJa,MAIbA,QAJa,CAKbC,UALa,MAKbA,UALa,CAMbC,SANa,MAMbA,SANa,CAObC,UAPa,MAObA,UAPa,OASb,qBAAC,IAAD,EAAM,KAAK,CAAE,CAACC,MAAM,CAACC,SAAR,CAAmB,CAAEC,MAAM,CAAEH,UAAU,CAAG,EAAH,CAAQ,CAA5B,CAAnB,CAAb,gEACE,oBAAC,QAAD,EAAU,QAAQ,CAAEN,KAApB,gEADF,CAEGC,OAAO,EACN,oBAAC,MAAD,EACE,KAAK,CAAE,CAACM,MAAM,CAACG,QAAR,CAAkB,CAAEC,MAAM,CAAE,EAAV,CAAcC,SAAS,CAAE,EAAzB,CAAlB,CADT,CAEE,YAAY,CAAE,CAFhB,CAGE,cAAc,CAAER,UAHlB,CAIE,iBAAiB,CAAE,2BAAAS,CAAC,CAAI,CACtBX,MAAM,CAACW,CAAC,CAAGV,QAAL,CAAN,CACAE,SAAS,GACV,CAPH,CAQE,YAAY,CAAE,CARhB,CASE,qBAAqB,CAAC,KATxB,CAUE,qBAAqB,CAAC,MAVxB,CAWE,KAAK,CAAEL,KAXT,CAYE,UAAU,CAAEc,OAAO,CAAC,mBAAD,CAZrB,gEAHJ,CATa,EAAf,EA8BA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,OAAwC,IAArCL,CAAAA,QAAqC,OAArCA,QAAqC,CACvD,GAAMM,CAAAA,GAAG,CAAGtB,MAAM,CAAC,GAAIG,CAAAA,QAAQ,CAACoB,KAAb,CAAmB,CAAnB,CAAD,CAAlB,CACApB,QAAQ,CAACqB,MAAT,CAAgBF,GAAG,CAACG,OAApB,CAA6B,CAC3BC,OAAO,CAAEV,QADkB,CAE3BP,QAAQ,CAAE,GAFiB,CAG3BkB,MAAM,CAAEvB,MAAM,CAACwB,KAAP,CAAaxB,MAAM,CAACyB,IAApB,CAHmB,CAA7B,EAIGC,KAJH,GAMA,MACE,qBAAC,IAAD,EAAM,KAAK,CAAEjB,MAAM,CAACkB,QAApB,gEACE,oBAAC,QAAD,CAAU,IAAV,EACE,KAAK,CAAE,CAAEC,IAAI,CAAEV,GAAG,CAACG,OAAZ,CAAqBQ,eAAe,CAAE,KAAtC,CAA6CC,MAAM,CAAE,CAArD,CADT,gEADF,CADF,CAOD,CAfD,CAiBA,GAAMrB,CAAAA,MAAM,CAAGZ,UAAU,CAACkC,MAAX,CAAkB,CAC/BrB,SAAS,CAAE,CACTsB,SAAS,CAAE,QADF,CAETC,KAAK,CAAE,MAFE,CAGTH,MAAM,CAAE,CAHC,CAITI,QAAQ,CAAE,UAJD,CAKTvB,MAAM,CAAE,CALC,CADoB,CAQ/BC,QAAQ,CAAE,CACRqB,KAAK,CAAE,MADC,CAERH,MAAM,CAAE,CAFA,CAGRI,QAAQ,CAAE,UAHF,CAIRvB,MAAM,CAAE,CAJA,CAKRkB,eAAe,CAAE,aALT,CAMRM,SAAS,CAAE,CAAC,CAAEC,UAAU,CAAE,CAAd,CAAD,CANH,CARqB,CAgB/BT,QAAQ,CAAE,CACRC,IAAI,CAAE,CADE,CAERE,MAAM,CAAE,CAFA,CAGRO,UAAU,CAAE,UAHJ,CAIRC,aAAa,CAAE,KAJP,CAKRT,eAAe,CAAE,MALT,CAMRI,KAAK,CAAE,MANC,CAhBqB,CAAlB,CAAf","sourcesContent":["import React, { useRef } from \"react\";\r\nimport { StyleSheet, View } from \"react-native\";\r\nimport Animated, { Easing } from \"react-native-reanimated\";\r\nimport Slider from \"@react-native-community/slider\";\r\n\r\ntype Props = {\r\n  value: number;\r\n  visible: Boolean;\r\n  fullScreen: Boolean;\r\n  duration: number;\r\n  playVideo: () => void;\r\n  pauseVideo: () => void;\r\n  seekTo: (t: number) => void;\r\n};\r\n\r\nexport default ({\r\n  value,\r\n  visible,\r\n  seekTo,\r\n  duration,\r\n  pauseVideo,\r\n  playVideo,\r\n  fullScreen\r\n}: Props) => (\r\n  <View style={[styles.container, { bottom: fullScreen ? 20 : 0 }]}>\r\n    <Progress progress={value} />\r\n    {visible && (\r\n      <Slider\r\n        style={[styles.progress, { zIndex: 99, elevation: 99 }]}\r\n        minimumValue={0}\r\n        onSlidingStart={pauseVideo}\r\n        onSlidingComplete={p => {\r\n          seekTo(p * duration);\r\n          playVideo();\r\n        }}\r\n        maximumValue={1}\r\n        minimumTrackTintColor=\"red\"\r\n        maximumTrackTintColor=\"#FFF\"\r\n        value={value}\r\n        thumbImage={require(\"./icons/thumb.png\")}\r\n      />\r\n    )}\r\n  </View>\r\n);\r\n\r\nconst Progress = ({ progress }: { progress: number }) => {\r\n  const ref = useRef(new Animated.Value(0));\r\n  Animated.timing(ref.current, {\r\n    toValue: progress,\r\n    duration: 250,\r\n    easing: Easing.inOut(Easing.ease)\r\n  }).start();\r\n\r\n  return (\r\n    <View style={styles.outerBar}>\r\n      <Animated.View\r\n        style={{ flex: ref.current, backgroundColor: \"red\", height: 2 }}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    alignSelf: \"center\",\r\n    width: \"100%\",\r\n    height: 2,\r\n    position: \"absolute\",\r\n    bottom: 0 // animated to 20 on fullScreen\r\n  },\r\n  progress: {\r\n    width: \"100%\",\r\n    height: 8,\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    backgroundColor: \"transparent\",\r\n    transform: [{ translateY: 3 }]\r\n  },\r\n  outerBar: {\r\n    flex: 1,\r\n    height: 2,\r\n    alignItems: \"flex-end\",\r\n    flexDirection: \"row\",\r\n    backgroundColor: \"#FFF\",\r\n    width: \"100%\"\r\n  }\r\n});\r\n"]}